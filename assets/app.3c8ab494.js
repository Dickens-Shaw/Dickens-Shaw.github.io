import{_ as E,o as c,c as p,f as w,h as f,H as m,y as x,A as L,x as s,a as v,t as _,F as b,u as h,a1 as y,w as P,K as d,a2 as C,a3 as V,a4 as T,a5 as D,a6 as R,a7 as S,a8 as k,a9 as B,aa as O,ab as $,d as F,l as I,ac as H,ad as M,ae as N}from"./chunks/framework.ee5f5f8b.js";import{t as g}from"./chunks/theme.17b7a113.js";const X={},j={class:"loading"};function G(e,n){return c(),p("div",j)}const W=E(X,[["render",G]]);const K={id:"xmind-container"},U={__name:"XmindViewer",props:{url:String},setup(e){const n=w(!0),t=e;return f(async()=>{const{XMindEmbedViewer:a}=await m(()=>import("./chunks/index.223215d0.js"),[]),r=new a({el:"#xmind-container",region:"cn"});r.setStyles({width:"100%",height:"100%"});const l=()=>{n.value=!1,r.removeEventListener("map-ready",l)};r.addEventListener("map-ready",l),fetch(t.url).then(u=>u.arrayBuffer()).then(u=>{r.load(u)}).catch(u=>{n.value=!1,console.log("加载xmind文件出错！"),r.removeEventListener("map-ready",l)})}),(a,r)=>(c(),p("div",K,[n.value?(c(),x(W,{key:0})):L("",!0)]))}},q={__name:"DevTool",setup(e){const n=w({window:"",ethereum:"",userAgent:"",vendor:""});return f(async()=>{if(typeof window<"u"){const t=await m(()=>import("./chunks/eruda.96f61ef5.js").then(a=>a.e),[]);t._isInit||t.init(),console.log("window------",window),console.log("ethereum------",window.ethereum),console.log("userAgent------",navigator.userAgent),console.log("vendor------",navigator.vendor),n.value={userAgent:navigator.userAgent||"undefined",vendor:navigator.vendor||"undefined"}}}),(t,a)=>(c(),p(b,null,[a[2]||(a[2]=s("h1",null,"Global Variables",-1)),s("div",null,[s("p",null,[a[0]||(a[0]=s("strong",null,"userAgent:",-1)),v(" "+_(n.value.userAgent),1)]),s("p",null,[a[1]||(a[1]=s("strong",null,"vendor:",-1)),v(" "+_(n.value.vendor),1)])])],64))}};typeof window<"u"&&(window.navigator&&navigator.serviceWorker&&navigator.serviceWorker.getRegistrations().then(function(e){for(let n of e)n.unregister()}),"caches"in window&&caches.keys().then(function(e){return Promise.all(e.map(function(n){return caches.delete(n)}))}));let o;const z={extends:g,Layout:()=>{var t;const e={},{frontmatter:n}=h();return(t=n.value)!=null&&t.layoutClass&&(e.class=n.value.layoutClass),y(g.Layout,e,{})},enhanceApp({app:e,router:n}){e.component("XMind",U),e.component("DevTool",q),typeof window<"u"&&P(()=>n.route.data.relativePath,()=>J(location.pathname==="/"),{immediate:!0})}};if(typeof window<"u"){const e=navigator.userAgent.toLowerCase();e.includes("chrome")?document.documentElement.classList.add("browser-chrome"):e.includes("firefox")?document.documentElement.classList.add("browser-firefox"):e.includes("safari")&&document.documentElement.classList.add("browser-safari")}function J(e){if(e){if(o)return;o=document.createElement("style"),o.innerHTML=`
    :root {
      animation: rainbow 12s linear infinite;
    }`,document.body.appendChild(o)}else{if(!o)return;o.remove(),o=void 0}}function A(e){if(e.extends){const n=A(e.extends);return{...n,...e,async enhanceApp(t){n.enhanceApp&&await n.enhanceApp(t),e.enhanceApp&&await e.enhanceApp(t)}}}return e}const i=A(z),Q=F({name:"VitePressApp",setup(){const{site:e}=h();return f(()=>{I(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),H(),M(),N(),i.setup&&i.setup(),()=>y(i.Layout)}});async function Y(){const e=ee(),n=Z();n.provide(V,e);const t=T(e.route);return n.provide(D,t),n.component("Content",R),n.component("ClientOnly",S),Object.defineProperties(n.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),i.enhanceApp&&await i.enhanceApp({app:n,router:e,siteData:k}),{app:n,router:e,data:t}}function Z(){return B(Q)}function ee(){let e=d,n;return O(t=>{let a=$(t);return e&&(n=a),(e||n===a)&&(a=a.replace(/\.js$/,".lean.js")),d&&(e=!1),m(()=>import(a),[])},i.NotFound)}d&&Y().then(({app:e,router:n,data:t})=>{n.go().then(()=>{C(n.route,t.site),e.mount("#app")})});export{Y as createApp};
