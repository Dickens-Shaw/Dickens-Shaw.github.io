<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress [object Promise]">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>设计模式 | Shaw</title><meta name="description" content="这是我的第一个 VuePress 站点">
    <link rel="modulepreload" href="/assets/design.html.deaff9e9.js"><link rel="modulepreload" href="/assets/design.html.28cf13ae.js"><link rel="prefetch" href="/assets/index.html.93a9cfaa.js"><link rel="prefetch" href="/assets/browser.html.a54b332a.js"><link rel="prefetch" href="/assets/data.html.4ba0a106.js"><link rel="prefetch" href="/assets/network.html.bd0988dd.js"><link rel="prefetch" href="/assets/typescript.html.198f7fc9.js"><link rel="prefetch" href="/assets/formatter.html.f361f7b8.js"><link rel="prefetch" href="/assets/juejin.html.d01502c9.js"><link rel="prefetch" href="/assets/wechat.html.669c1514.js"><link rel="prefetch" href="/assets/async.html.88b18e22.js"><link rel="prefetch" href="/assets/css.html.ed9b5713.js"><link rel="prefetch" href="/assets/es6.html.55944a4a.js"><link rel="prefetch" href="/assets/eventLoop.html.9d82381c.js"><link rel="prefetch" href="/assets/js.html.7b6826f4.js"><link rel="prefetch" href="/assets/common.html.c1193a10.js"><link rel="prefetch" href="/assets/react.html.73d3be5a.js"><link rel="prefetch" href="/assets/vue.html.5e84b882.js"><link rel="prefetch" href="/assets/cross.html.6ad7ed6e.js"><link rel="prefetch" href="/assets/engineering.html.cd482ee7.js"><link rel="prefetch" href="/assets/lowcode.html.30869335.js"><link rel="prefetch" href="/assets/micro.html.bc38576d.js"><link rel="prefetch" href="/assets/optimize.html.7d2957ee.js"><link rel="prefetch" href="/assets/404.html.265028f6.js"><link rel="prefetch" href="/assets/index.html.37ca3281.js"><link rel="prefetch" href="/assets/browser.html.d619d95b.js"><link rel="prefetch" href="/assets/data.html.e3145375.js"><link rel="prefetch" href="/assets/network.html.bb107186.js"><link rel="prefetch" href="/assets/typescript.html.06c6687d.js"><link rel="prefetch" href="/assets/formatter.html.2a95d502.js"><link rel="prefetch" href="/assets/juejin.html.0d0ed2f4.js"><link rel="prefetch" href="/assets/wechat.html.b920b383.js"><link rel="prefetch" href="/assets/async.html.68698063.js"><link rel="prefetch" href="/assets/css.html.db339395.js"><link rel="prefetch" href="/assets/es6.html.abc48f38.js"><link rel="prefetch" href="/assets/eventLoop.html.f6e3d83a.js"><link rel="prefetch" href="/assets/js.html.2aa6d63a.js"><link rel="prefetch" href="/assets/common.html.028c051d.js"><link rel="prefetch" href="/assets/react.html.93c57cba.js"><link rel="prefetch" href="/assets/vue.html.a44f81e1.js"><link rel="prefetch" href="/assets/cross.html.fd8bc7fe.js"><link rel="prefetch" href="/assets/engineering.html.1d3bb71e.js"><link rel="prefetch" href="/assets/lowcode.html.c65d36cf.js"><link rel="prefetch" href="/assets/micro.html.2d32ba01.js"><link rel="prefetch" href="/assets/optimize.html.6a242268.js"><link rel="prefetch" href="/assets/404.html.48129d17.js"><link rel="prefetch" href="/assets/404.b2cb7595.js"><link rel="prefetch" href="/assets/Layout.9e7398af.js">
    <link rel="stylesheet" href="/assets/style.95e11607.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.jpeg" alt="Shaw"><span class="site-name can-hide">Shaw</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="基础"><span class="title">基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="基础"><span class="title">基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/basic/css" class="" aria-label="CSS基础"><!--[--><!--]--> CSS基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/basic/js" class="" aria-label="JS基础"><!--[--><!--]--> JS基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/basic/es6" class="" aria-label="ES6+"><!--[--><!--]--> ES6+ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/basic/async" class="" aria-label="异步编程"><!--[--><!--]--> 异步编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/basic/eventLoop" class="" aria-label="事件循环"><!--[--><!--]--> 事件循环 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="进阶"><span class="title">进阶</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="进阶"><span class="title">进阶</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/advance/browser" class="" aria-label="浏览器"><!--[--><!--]--> 浏览器 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/advance/network" class="" aria-label="网络"><!--[--><!--]--> 网络 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/advance/typescript" class="" aria-label="TS"><!--[--><!--]--> TS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/advance/design" class="router-link-active" aria-label="设计模式"><!--[--><!--]--> 设计模式 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/advance/data" class="" aria-label="数据结构&amp;算法"><!--[--><!--]--> 数据结构&amp;算法 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/frame/common" class="" aria-label="MVVM"><!--[--><!--]--> MVVM <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/frame/react" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/frame/vue" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="架构"><span class="title">架构</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="架构"><span class="title">架构</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/architecture/optimize" class="" aria-label="项目优化"><!--[--><!--]--> 项目优化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/architecture/engineering" class="" aria-label="工程化"><!--[--><!--]--> 工程化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/architecture/micro" class="" aria-label="微前端"><!--[--><!--]--> 微前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/architecture/cross" class="" aria-label="大前端"><!--[--><!--]--> 大前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/architecture/lowcode" class="" aria-label="低代码"><!--[--><!--]--> 低代码 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="收藏夹"><span class="title">收藏夹</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="收藏夹"><span class="title">收藏夹</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/bookmark/juejin" class="" aria-label="掘金"><!--[--><!--]--> 掘金 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/bookmark/wechat" class="" aria-label="微信"><!--[--><!--]--> 微信 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="基础"><span class="title">基础</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="基础"><span class="title">基础</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/basic/css" class="" aria-label="CSS基础"><!--[--><!--]--> CSS基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/basic/js" class="" aria-label="JS基础"><!--[--><!--]--> JS基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/basic/es6" class="" aria-label="ES6+"><!--[--><!--]--> ES6+ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/basic/async" class="" aria-label="异步编程"><!--[--><!--]--> 异步编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/basic/eventLoop" class="" aria-label="事件循环"><!--[--><!--]--> 事件循环 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="进阶"><span class="title">进阶</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="进阶"><span class="title">进阶</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/advance/browser" class="" aria-label="浏览器"><!--[--><!--]--> 浏览器 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/advance/network" class="" aria-label="网络"><!--[--><!--]--> 网络 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/advance/typescript" class="" aria-label="TS"><!--[--><!--]--> TS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/advance/design" class="router-link-active" aria-label="设计模式"><!--[--><!--]--> 设计模式 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/advance/data" class="" aria-label="数据结构&amp;算法"><!--[--><!--]--> 数据结构&amp;算法 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="框架"><span class="title">框架</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="框架"><span class="title">框架</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/frame/common" class="" aria-label="MVVM"><!--[--><!--]--> MVVM <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/frame/react" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/frame/vue" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="架构"><span class="title">架构</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="架构"><span class="title">架构</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/architecture/optimize" class="" aria-label="项目优化"><!--[--><!--]--> 项目优化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/architecture/engineering" class="" aria-label="工程化"><!--[--><!--]--> 工程化 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/architecture/micro" class="" aria-label="微前端"><!--[--><!--]--> 微前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/architecture/cross" class="" aria-label="大前端"><!--[--><!--]--> 大前端 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/architecture/lowcode" class="" aria-label="低代码"><!--[--><!--]--> 低代码 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="收藏夹"><span class="title">收藏夹</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="收藏夹"><span class="title">收藏夹</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/bookmark/juejin" class="" aria-label="掘金"><!--[--><!--]--> 掘金 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/bookmark/wechat" class="" aria-label="微信"><!--[--><!--]--> 微信 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">进阶知识 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/advance/browser.html" class="sidebar-item" aria-label="浏览器"><!--[--><!--]--> 浏览器 <!--[--><!--]--></a><!----></li><li><a href="/advance/network.html" class="sidebar-item" aria-label="网络"><!--[--><!--]--> 网络 <!--[--><!--]--></a><!----></li><li><a href="/advance/typescript.html" class="sidebar-item" aria-label="TS"><!--[--><!--]--> TS <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="设计模式"><!--[--><!--]--> 设计模式 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/advance/design.html#概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="概念"><!--[--><!--]--> 概念 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#设计原则" class="router-link-active router-link-exact-active sidebar-item" aria-label="设计原则"><!--[--><!--]--> 设计原则 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#设计模式的类型" class="router-link-active router-link-exact-active sidebar-item" aria-label="设计模式的类型"><!--[--><!--]--> 设计模式的类型 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#常见设计模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="常见设计模式"><!--[--><!--]--> 常见设计模式 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/advance/design.html#单例模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="单例模式"><!--[--><!--]--> 单例模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#工厂模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="工厂模式"><!--[--><!--]--> 工厂模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#装饰器模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="装饰器模式"><!--[--><!--]--> 装饰器模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#适配器模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="适配器模式"><!--[--><!--]--> 适配器模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#代理模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="代理模式"><!--[--><!--]--> 代理模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#观察者模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="观察者模式"><!--[--><!--]--> 观察者模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#发布订阅模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="发布订阅模式"><!--[--><!--]--> 发布订阅模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#发布-订阅模式和观察者模式的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="发布 / 订阅模式和观察者模式的区别"><!--[--><!--]--> 发布 / 订阅模式和观察者模式的区别 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/advance/design.html#柯里化" class="router-link-active router-link-exact-active sidebar-item" aria-label="柯里化"><!--[--><!--]--> 柯里化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#属性描述符" class="router-link-active router-link-exact-active sidebar-item" aria-label="属性描述符"><!--[--><!--]--> 属性描述符 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#编程范式" class="router-link-active router-link-exact-active sidebar-item" aria-label="编程范式"><!--[--><!--]--> 编程范式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#函数式和响应式" class="router-link-active router-link-exact-active sidebar-item" aria-label="函数式和响应式"><!--[--><!--]--> 函数式和响应式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#纯函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="纯函数"><!--[--><!--]--> 纯函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#反模式" class="router-link-active router-link-exact-active sidebar-item" aria-label="反模式"><!--[--><!--]--> 反模式 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#调用优化-尾递归" class="router-link-active router-link-exact-active sidebar-item" aria-label="调用优化\尾递归"><!--[--><!--]--> 调用优化\尾递归 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#对大型项目的代码解耦设计理解-什么是-ioc-一般-di-采用什么设计模式实现" class="router-link-active router-link-exact-active sidebar-item" aria-label="对大型项目的代码解耦设计理解？什么是 Ioc？一般 DI 采用什么设计模式实现？"><!--[--><!--]--> 对大型项目的代码解耦设计理解？什么是 Ioc？一般 DI 采用什么设计模式实现？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#控制反转、依赖注入" class="router-link-active router-link-exact-active sidebar-item" aria-label="控制反转、依赖注入"><!--[--><!--]--> 控制反转、依赖注入 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/advance/design.html#面向切面编程" class="router-link-active router-link-exact-active sidebar-item" aria-label="面向切面编程"><!--[--><!--]--> 面向切面编程 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/advance/data.html" class="sidebar-item" aria-label="数据结构&amp;算法"><!--[--><!--]--> 数据结构&amp;算法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="设计模式" tabindex="-1"><a class="header-anchor" href="#设计模式" aria-hidden="true">#</a> 设计模式</h1><h2 id="概念" tabindex="-1"><a class="header-anchor" href="#概念" aria-hidden="true">#</a> 概念</h2><blockquote><p>设计模式是一套被反复使用的、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了重用代码、让代码更容易被他人理解、保证代码可靠性。 毫无疑问，设计模式于己于他人于系统都是多赢的，设计模式使代码编制真正工程化，设计模式是软件工程的基石，如同大厦的一块块砖石一样。</p></blockquote><h2 id="设计原则" tabindex="-1"><a class="header-anchor" href="#设计原则" aria-hidden="true">#</a> 设计原则</h2><ol><li>S – Single Responsibility Principle 单一职责原则</li></ol><ul><li>一个程序只做好一件事，就一个类而言，应该只有一个引起它变化的原因</li><li>如果功能过于复杂就拆分开，每个部分保持独立</li></ul><ol start="2"><li>O – OpenClosed Principle 开放/封闭原则</li></ol><ul><li>对扩展开放，对修改封闭</li><li>增加需求时，扩展新代码，而非修改已有代码</li></ul><ol start="3"><li>L – Liskov Substitution Principle 里氏替换原则</li></ol><ul><li>子类能覆盖父类</li><li>父类能出现的地方子类就能出现</li></ul><ol start="4"><li>I – Interface Segregation Principle 接口隔离原则</li></ol><ul><li>保持接口的单一独立</li><li>类似单一职责原则，这里更关注接口</li></ul><ol start="5"><li>D – Dependency Inversion Principle 依赖倒转原则</li></ol><ul><li>面向接口编程，依赖于抽象而不依赖于具</li><li>使用方只关注接口而不关注具体类的实现</li></ul><h2 id="设计模式的类型" tabindex="-1"><a class="header-anchor" href="#设计模式的类型" aria-hidden="true">#</a> 设计模式的类型</h2><p><strong>创建型模式（Creational Patterns）</strong>： 处理对象的创建，根据实际情况使用合适的方式创建对象。常规的对象创建方式可能会导致设计上的问题，或增加设计的复杂度。创建型模式通过以某种方式控制对象的创建来解决问题。</p><ul><li>单例模式</li><li>原型模式</li><li>工厂模式</li><li>抽象工厂模式</li></ul><p><strong>结构型模式（Structural Patterns）</strong>： 通过识别系统中组件间的简单关系来简化系统的设计。</p><ul><li>适配器模式</li><li>装饰器模式</li><li>代理模式</li><li>外观模式</li><li>桥接模式</li><li>组合模式</li><li>享元模式</li></ul><p><strong>行为型模式（Behavioral Patterns）</strong>： 用于识别对象之间常见的交互模式并加以实现，如此，增加了这些交互的灵活性。</p><ul><li>观察者模式</li><li>迭代器模式</li><li>策略模式</li><li>模板方法模式</li><li>职责链模式</li><li>命令模式</li><li>备忘录模式</li><li>状态模式</li><li>访问者模式</li><li>中介者模式</li><li>解释器模式</li></ul><h2 id="常见设计模式" tabindex="-1"><a class="header-anchor" href="#常见设计模式" aria-hidden="true">#</a> 常见设计模式</h2><h3 id="单例模式" tabindex="-1"><a class="header-anchor" href="#单例模式" aria-hidden="true">#</a> 单例模式</h3><ul><li>概念：单例模式即一个类只能构造出唯一实例，单例模式的意义在于共享、唯一</li><li>优点： <ul><li>划分命名空间，减少全局变量</li><li>增强模块性，把自己的代码组织在一个全局变量名下，放在单一位置，便于维护</li><li>且只会实例化一次。简化了代码的调试和维护</li></ul></li><li>缺点： <ul><li>由于单例模式提供的是一种单点访问，所以它有可能导致模块间的强耦合 从而不利于单元测试。无法单独测试一个调用了来自单例的方法的类，而只能把它与那个单例作为一个单元一起测试</li></ul></li><li>应用：全局缓存、全局状态管理，Redux/Vuex 中的 store、JQ 的$或者业务场景中的购物车、登录框</li><li>思路：判断对象是否已经被创建,若创建则返回旧对象</li><li>核心：保证全局只有一个对象可以访问。因为 JS 是门无类的语言，所以别的语言实现单例的方式并不能套入 JS 中，我们只需要用一个变量确保实例只创建一次就行，以下是如何实现单例模式的例子</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Singleton</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> password</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>instance
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> obj1 <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&#39;xxx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> Singleton<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&#39;yyy&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;456&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1 <span class="token operator">===</span> obj2<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token comment">// Singleton { name: &#39;xxx&#39;, password: &#39;123&#39; }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span> <span class="token comment">// Singleton { name: &#39;xxx&#39;, password: &#39;123&#39; }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="工厂模式" tabindex="-1"><a class="header-anchor" href="#工厂模式" aria-hidden="true">#</a> 工厂模式</h3><ul><li>概念：工厂模式即对创建对象逻辑的封装，或者可以简单理解为对 new 的封装，这种封装就像创建对象的工厂，故名工厂模式</li><li>优点： <ul><li>创建对象的过程可能很复杂，但我们只需要关心创建结果。</li><li>构造函数和创建者分离, 符合“开闭原则”</li><li>一个调用者想创建一个对象，只要知道其名称就可以了。</li><li>扩展性高，如果想增加一个产品，只要扩展一个工厂类就可以。</li></ul></li><li>缺点： <ul><li>添加新产品时，需要编写新的具体产品类,一定程度上增加了系统的复杂度</li><li>考虑到系统的可扩展性，需要引入抽象层，在客户端代码中均使用抽象层进行定义，增加了系统的抽象性和理解难度</li></ul></li><li>应用：工厂模式常见于大型项目，比如 JQ 的$对象，我们创建选择器对象时之所以没有new selector就是因为$()已经是一个工厂方法，其他例子例如 React.createElement()、Vue.component()都是工厂模式的实现。</li><li>分类： <ul><li>简单工厂模式：又叫静态工厂方法，就是创建对象，并赋予属性和方法，应用：抽取类相同的属性和方法封装到对象上</li><li>工厂方法模式：对产品类的抽象使其创建业务主要负责用于创建多类产品的实例</li><li>抽象工厂模式</li></ul></li><li>思路：工厂内部封装了创建对象的逻辑，隐藏了创建实例的复杂度，只需要提供一个接口</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> auth</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>auth <span class="token operator">=</span> auth
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">UserFactory</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">createUser</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> auth</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//工厂内部封装了创建对象的逻辑:</span>
    <span class="token comment">//权限为admin时,auth=1, 权限为user时, auth为2</span>
    <span class="token comment">//使用者在外部创建对象时,不需要知道各个权限对应哪个字段, 不需要知道赋权的逻辑，只需要知道创建了一个管理员和用户</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>auth <span class="token operator">===</span> <span class="token string">&#39;admin&#39;</span><span class="token punctuation">)</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>auth <span class="token operator">===</span> <span class="token string">&#39;user&#39;</span><span class="token punctuation">)</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> admin <span class="token operator">=</span> UserFactory<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span><span class="token string">&#39;cxk&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;admin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> UserFactory<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span><span class="token string">&#39;cxk&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;user&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="装饰器模式" tabindex="-1"><a class="header-anchor" href="#装饰器模式" aria-hidden="true">#</a> 装饰器模式</h3><ul><li>概念： 装饰器模式，可以理解为对类的一个包装，动态地拓展类的功能</li><li>优点： <ul><li>装饰类和被装饰类都只关心自身的核心业务，实现了解耦。</li><li>方便动态的扩展功能，且提供了比继承更多的灵活性。</li></ul></li><li>缺点： <ul><li>多层装饰比较复杂。</li><li>常常会引入许多小对象，看起来比较相似，实际功能大相径庭，从而使得我们的应用程序架构变得复杂起来</li></ul></li><li>应用： ES7 的装饰器语法以及 React 中的高阶组件(HoC)都是这一模式的实现。react-redux 的 connect()也运用了装饰器模式</li><li>使用场景：比如以前写jQ项目，可以自己快速动态拓展jQ上面的方法，或者vue的自定义指令，主要是希望通过继承的方式扩展老旧功能</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">info</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;xxx&#39;</span>
  target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">10</span>
<span class="token punctuation">}</span>

@info
<span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> man <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
man<span class="token punctuation">.</span>name <span class="token comment">// xxx</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="适配器模式" tabindex="-1"><a class="header-anchor" href="#适配器模式" aria-hidden="true">#</a> 适配器模式</h3><ul><li>概念：适配器模式，将一个接口转换成客户希望的另一个接口，使接口不兼容的那些类可以一起工作</li><li>优点： <ul><li>可以让任何两个没有关联的类一起运行。</li><li>提高了类的复用。</li><li>适配对象，适配库，适配数据</li></ul></li><li>缺点： <ul><li>额外对象的创建，非直接调用，存在一定的开销(且不像代理模式在某些功能点上可实现性能优化)</li><li>如果没必要使用适配器模式的话，可以考虑重构，如果使用的话，尽量把文档完善</li></ul></li><li>应用：Vue 的 computed ，例如出境旅游插头插座不匹配，这时我们就需要使用转换插头，也就是适配器来帮我们解决问题</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Adaptor</span> <span class="token punctuation">{</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;old&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Target</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>adaptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Adaptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>adaptor<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">适配</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Target</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
target<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 适配old</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="代理模式" tabindex="-1"><a class="header-anchor" href="#代理模式" aria-hidden="true">#</a> 代理模式</h3><ul><li>概念： 代理模式，为一个对象找一个替代对象，以便对原对象进行访问。即在访问者与目标对象之间加一层代理，通过代理做授权和控制，不让外部直接访问到对象</li><li>优点： <ul><li>代理模式能将代理对象与被调用对象分离，降低了系统的耦合度。代理模式在客户端和目标对象之间起到一个中介作用，这样可以起到保护目标对象的作用</li><li>代理对象可以扩展目标对象的功能；通过修改代理对象就可以了，符合开闭原则；</li></ul></li><li>缺点： <ul><li>处理请求速度可能有差别，非直接访问存在开销</li></ul></li><li>应用：事件代理、JQuery 的$.proxy、ES6 的 proxy 都是这一模式的实现</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> idol <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;CXK&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">phone</span><span class="token operator">:</span> <span class="token string">&#39;10086&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token string">&#39;1000000&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> agent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>idol<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;经纪人电话：10010&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">&#39;price&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> target<span class="token punctuation">.</span>price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;报价过低&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
agent<span class="token punctuation">.</span>phone <span class="token comment">// 经纪人电话：10010</span>
agent<span class="token punctuation">.</span>price <span class="token operator">=</span> <span class="token number">100</span> <span class="token comment">// 报价过低</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="观察者模式" tabindex="-1"><a class="header-anchor" href="#观察者模式" aria-hidden="true">#</a> 观察者模式</h3><ul><li>概念：观察者监听被观察者的变化，被观察者发生改变时，通知所有的观察者</li><li>优点： <ul><li>支持简单的广播通信，自动通知所有已经订阅过的对象</li><li>目标对象与观察者之间的抽象耦合关系能单独扩展以及重用</li><li>增加了灵活性</li><li>观察者模式所做的工作就是在解耦，让耦合的双方都依赖于抽象，而不是依赖于具体。从而使得各自的变化都不会影响到另一边的变化。</li></ul></li><li>缺点： <ul><li>过度使用会导致对象与对象之间的联系弱化，会导致程序难以跟踪维护和理解</li></ul></li><li>应用：观察者模式被广泛用于监听事件的实现、Vue响应式原理</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 观察者</span>
<span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>update <span class="token operator">=</span> fn
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 被观察者</span>
<span class="token keyword">class</span> <span class="token class-name">Subject</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 观察者队列</span>
  <span class="token punctuation">}</span>
  <span class="token function">addObserver</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>observer<span class="token punctuation">)</span> <span class="token comment">// 添加观察者</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeObserver</span><span class="token punctuation">(</span><span class="token parameter">observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">!==</span> observer<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 通知所有观察者，实际上是把观察者的update()都执行了一遍</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> subject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 收到通知后要执行的方法</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> observer1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span>update<span class="token punctuation">)</span>
<span class="token keyword">let</span> observer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span>update<span class="token punctuation">)</span>
subject<span class="token punctuation">.</span><span class="token function">addObserver</span><span class="token punctuation">(</span>observer1<span class="token punctuation">)</span>
subject<span class="token punctuation">.</span><span class="token function">addObserver</span><span class="token punctuation">(</span>observer2<span class="token punctuation">)</span>
subject<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/images/observer.png" alt="blockchain" title="观察者&amp;发布订阅"></p><h3 id="发布订阅模式" tabindex="-1"><a class="header-anchor" href="#发布订阅模式" aria-hidden="true">#</a> 发布订阅模式</h3><p>发布订阅模式相较于观察者模式多一个调度中心</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">EventEmitter</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 事件对象，用于存放事件名和事件处理函数</span>
  <span class="token punctuation">}</span>
  <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token comment">// 一个事件可以订阅多个事件处理函数</span>
  <span class="token punctuation">}</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 遍历执行所有订阅的事件处理函数</span>
  <span class="token punctuation">}</span>
  <span class="token function">removeListener</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>events<span class="token punctuation">[</span>eventName<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> cb <span class="token operator">!==</span> callback
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">once</span><span class="token punctuation">(</span><span class="token parameter">eventName<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 只执行一次</span>
    <span class="token keyword">let</span> <span class="token function-variable function">cb</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 创建一个匿名函数，用于解除订阅</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> cb<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="发布-订阅模式和观察者模式的区别" tabindex="-1"><a class="header-anchor" href="#发布-订阅模式和观察者模式的区别" aria-hidden="true">#</a> 发布 / 订阅模式和观察者模式的区别</h3><p>在观察者模式中，被观察者通常会维护一个观察者列表。当被观察者的状态发生改变时，就会通知观察者。</p><p>在发布订阅模式中，具体发布者会动态维护一个订阅者的列表：可在运行时根据程序需要开始或停止发布给对应订阅者的事件通知。</p><p>区别在于发布者本身并不维护订阅列表（它不会像观察者一样主动维护一个列表），它会将工作委派给具体发布者（相当于秘书，任何人想知道我的事情，直接问我的秘书就可以了）；订阅者在接收到发布者的消息后，会委派具体的订阅者来进行相关的处理。</p><h1 id="编程思想" tabindex="-1"><a class="header-anchor" href="#编程思想" aria-hidden="true">#</a> 编程思想</h1><h2 id="柯里化" tabindex="-1"><a class="header-anchor" href="#柯里化" aria-hidden="true">#</a> 柯里化</h2><p>函数柯里化又叫部分求值，维基百科中对柯里化 (Currying) 的定义为：</p><blockquote><p>在数学和计算机科学中，柯里化是一种将使用多个参数的函数转换成一系列使用一个参数的函数，并且返回接受余下的参数而且返回结果的新函数的技术。</p></blockquote><p>用大白话来说就是只传递给函数一部分参数来调用它，让它返回一个新函数去处理剩下的参数。使用一个简单的例子来介绍下，最常用的就是 add 函数了。</p><ul><li><p>应用：</p><ol><li>延迟计算：部分求和、bind 函数</li><li>动态创建函数：添加监听 addEvent、惰性函数</li><li>参数服用</li><li>Function.prototype.call.bind(Object.prototype.toString)</li></ol></li><li><p>实现： 用闭包把传入参数保存起来，当传入参数的数量足够执行函数时，就开始执行函数</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">currying</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  length <span class="token operator">=</span> length <span class="token operator">||</span> fn<span class="token punctuation">.</span>length <span class="token comment">// 第一次调用获取函数 fn 参数的长度，后续调用获取 fn 剩余参数的长度</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// currying 包裹之后返回一个新函数，接收参数为 ...args</span>
    <span class="token keyword">return</span> args<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> length <span class="token comment">// 新函数接收的参数长度是否大于等于 fn 剩余参数需要接收的长度</span>
      <span class="token operator">?</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token comment">// 满足要求，执行 fn 函数，传入新函数的参数</span>
      <span class="token operator">:</span> <span class="token function">currying</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">,</span> length <span class="token operator">-</span> args<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// 不满足要求，递归 currying 函数，新的 fn 为 bind 返回的新函数(bind 绑定了 ...args 参数，未执行)，新的 length 为 fn 剩余参数的长度</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ES6 写法：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function-variable function">curryingES6</span> <span class="token operator">=</span> <span class="token parameter">fn</span> <span class="token operator">=&gt;</span>
  <span class="token function-variable function">judge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    args<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> fn<span class="token punctuation">.</span>length
      <span class="token operator">?</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
      <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
          <span class="token function">judge</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>arg<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="属性描述符" tabindex="-1"><a class="header-anchor" href="#属性描述符" aria-hidden="true">#</a> 属性描述符</h2><p>属性描述符(Property Descriptor)是对 JavaScript 属性的描述，包括：value、writable、enumerable、configurable，除 value 其他默认为 true：</p><ol><li>Configurable(可配置性)</li></ol><p>可配置性决定是否可以使用delete删除属性，以及是否可以修改属性描述符的特性，默认值为true</p><ol start="2"><li>Enumerable(可枚举性)</li></ol><p>可枚举性决定属性是否出现在对象的属性枚举中，比如是否可以通过for-in循环返回该属性，默认值为true</p><ol start="3"><li>Writable(可写性)</li></ol><p>可写性决定是否可以修改属性的值，默认值为true</p><ol start="4"><li>Value(属性值)</li></ol><p>属性值包含这个属性的数据值，读取属性值的时候，从这个位置读；写入属性值的时候，把新值保存在这个位置。默认值为undefined</p><ol start="5"><li>getter</li></ol><p>在读取属性时调用的函数。默认值为undefined</p><ol start="6"><li>setter</li></ol><p>在写入属性时调用的函数。默认值为undefined</p><h2 id="编程范式" tabindex="-1"><a class="header-anchor" href="#编程范式" aria-hidden="true">#</a> 编程范式</h2><p>声明式、命令式、函数式</p><h2 id="函数式和响应式" tabindex="-1"><a class="header-anchor" href="#函数式和响应式" aria-hidden="true">#</a> 函数式和响应式</h2><ul><li><p>函数式编程是面向数学的抽象，关心数据（代数结构）之间的映射关系。函数式编程将计算描述为一种表达式求值。 在函数式中，函数是一等公民，函数能作为变量的值，函数可以是另一个函数的参数，函数可以返回另一个函数</p><ul><li>赋值<code>(var func = function(){})</code></li><li>传参<code>(function func(x,callback){callback();})</code></li><li>返回<code>(function(){return function(){}})</code></li></ul><p>这样的函数也称之为第一级函数<code>(First-class Function)</code>。不仅如此，JavaScript中的函数还充当了类的构造函数的作用，同时又是一个Function类的实例<code>(instance)</code>。这样的多重身份让JavaScript的函数变得非常重要。</p></li><li><p>响应式编程是一种面向数据流和变化传播的编程范式，数据更新是相关联的。</p></li><li><p>把函数范式里的一套思路和响应式编程合起来就是函数响应式编程，响应式编程思想为体, 函数式编程思想为用。</p></li></ul><h2 id="纯函数" tabindex="-1"><a class="header-anchor" href="#纯函数" aria-hidden="true">#</a> 纯函数</h2><p>要点：</p><ol><li>函数的结果只受函数参数影响。</li><li>函数内部不使用能被外部函数影响的变量。</li><li>函数的结果不影响外部变量。</li></ol><p>当你有一堆函数对某个数据进行操作的时候，就能轻松定位到哪些函数出了问题，这也就是 Redux 的中心思想，控制状态的 Reducer 就是一个纯函数。</p><h2 id="反模式" tabindex="-1"><a class="header-anchor" href="#反模式" aria-hidden="true">#</a> 反模式</h2><p>指对反复出现的设计问题的常见的无力而低效的设计模式，俗话说就是重蹈覆辙：</p><ol><li>硬编码</li><li>重复代码</li><li>假模块化</li><li>注释膨胀</li><li>函数体膨胀</li></ol><p>React 反模式：</p><ol><li>修改 props、state</li><li>在 getInitialState 中使用 props</li><li>判断 isMounted</li><li>使用 mixins</li><li>在 componentWillMount 使用 setState</li></ol><h2 id="调用优化-尾递归" tabindex="-1"><a class="header-anchor" href="#调用优化-尾递归" aria-hidden="true">#</a> 调用优化\尾递归</h2><ul><li>尾调用：指某个函数的最后一步是调用另一个函数</li><li>尾调用优化：只保留内层函数的调用记录。</li><li>意义： 如果所有函数都是尾调用，那么完全可以做到每次执行时，调用记录只有一项，这将大大节省内存。</li><li>尾递归：函数调用自身，称为递归。如果尾调用自身，就称为尾递归。 <ul><li>递归非常耗费内存，因为需要同时保存成千上百个调用记录，很容易发生&quot;栈溢出&quot;错误(stack overflow)。但对于尾递归来说，由于只存在一个调用记录，所以永远不会发生&quot;栈溢出&quot;错误。</li><li>实现：柯里化、ES6函数默认参数</li></ul></li></ul><h2 id="对大型项目的代码解耦设计理解-什么是-ioc-一般-di-采用什么设计模式实现" tabindex="-1"><a class="header-anchor" href="#对大型项目的代码解耦设计理解-什么是-ioc-一般-di-采用什么设计模式实现" aria-hidden="true">#</a> 对大型项目的代码解耦设计理解？什么是 Ioc？一般 DI 采用什么设计模式实现？</h2><ol><li>代码解耦、一定要按模块划分而不是按功能划分</li></ol><ul><li>各个模块的生命周期（初始化、销毁）统一由框架进行管理：通过提供通用类Disposable，统一管理相关资源的注册和销毁。</li><li>模块间不直接引入和调用，而是通过声明依赖的方式，从框架中获取相应的服务并使用。</li><li>不直接使用全局事件进行通信，而是通过订阅具体服务的方式来处理：通过使用同样的方式this._register()注册事件和订阅事件，将事件相关资源的处理统一挂载到dispose()方法中</li></ul><ol start="2"><li>各个部分各个模块开发职责的仔细拆分</li><li>代码开发尽快组件化、提高可复用性，避免业务逻辑过度耦合臃肿，最终难以拓展</li></ol><p>Ioc是指依赖注入，简单理解就是借助于&quot;第三方&quot;实现具有依赖关系的对象之间的解耦。一般使用代理模式。</p><h2 id="控制反转、依赖注入" tabindex="-1"><a class="header-anchor" href="#控制反转、依赖注入" aria-hidden="true">#</a> 控制反转、依赖注入</h2><blockquote><p>控制反转(Inversion of Control，缩写为 IoC)，是面向对象编程中的一种设计原则，可以用来减低计算机代码之间的耦合度。其中最常见的方式叫做依赖注入(Dependency Injection，简称 DI)，还有一种方式叫“依赖查找”(Dependency Lookup)。通过控制反转，对象在被创建的时候，由一个调控系统内所有对象的外界实体，将其所依赖的对象的引用传递给它。也可以说，依赖被注入到对象中。</p></blockquote><p>原则：</p><ol><li>高层模块不应该依赖低层模块。两个都应该依赖抽象</li><li>抽象不应该依赖具体实现</li><li>面向接口编程，而非面向实现编程</li></ol><h2 id="面向切面编程" tabindex="-1"><a class="header-anchor" href="#面向切面编程" aria-hidden="true">#</a> 面向切面编程</h2><p>面向切面编程是面向对象中的一种方式而已。在代码执行过程中，动态嵌入其他代码，叫做面向切面编程</p><p>重点就是将核心关注面分离出横切关注面，前端可以用 AOP 优雅的来组织数据上报、性能分析、统计函数的执行时间、动态改变函数参数、插件式的表单验证等代码。</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xiaodigen@yzgong.com">肖笛根</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/advance/typescript.html" class="" aria-label="TS"><!--[--><!--]--> TS <!--[--><!--]--></a></span><span class="next"><a href="/advance/data.html" class="" aria-label="数据结构&amp;算法"><!--[--><!--]--> 数据结构&amp;算法 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/app.1c1e1be9.mjs" defer></script>
  </body>
</html>
